<h2>Styling</h2>

<div class="regate-example-container">
  <div class="regate-example">
    <div id="email-example-styling"></div>

    <script type="text/babel">
      {
        let RegateEmail = Regate.RegateEmail
      
        class App extends React.Component {
          constructor(props) {
            super(props)
            this.state = { isValid: true, isTouched: false }
            this.onChange = this.onChange.bind(this)
          }

          onChange({value, isValid}) {
            konsoleClear('email-example-styling-terminal')
            konsole('email-example-styling-terminal', ' string', '  value', value)
            konsole('email-example-styling-terminal', 'boolean', 'isValid', isValid)

            this.setState({
              isValid: isValid,
              isTouched: value === '' ? false : true
            })
          }

          render() {
            let formgroupClasses = ["form-group"]
            
            if (! this.state.isTouched) {
              formgroupClasses.push('has-warning')
            }
            else {
              if (this.state.isValid) {
                formgroupClasses.push('has-success')
              }
              else {
                formgroupClasses.push('has-danger')
              }
            }

            return (
              <div className={formgroupClasses.join(' ')}>
                <RegateEmail
                  className="form-control"
                  onChange={this.onChange}
                />
                
                {! this.state.isTouched && <div className="form-control-feedback">Please enter your email address</div> }
                {! this.state.isValid && <div className="form-control-feedback">Your email address is wrong</div> }
                {this.state.isTouched && this.state.isValid && <div className="form-control-feedback">Thanks for entering your email address</div> }
              </div>
            )
          }
        }

        ReactDOM.render(<App />, document.getElementById('email-example-styling'))
      }
    </script>
  </div>
  <div class="regate-code">
{% highlight jsx %}
import React from 'react'
import { RegateEmail } from 'regate'

class App extends React.Component {
  onChange({value, isValid}) {
    console.log(value, isValid)
  }

  render() {
    return (
      <RegateEmail onChange={this.onChange} />
    )
  }
}
{% endhighlight %}
  </div>

  <div class="regate-terminal" id="email-example-styling-terminal"></div>
</div>